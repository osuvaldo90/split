---
phase: 08-polish-optimization
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/components/Layout.tsx, src/pages/Session.tsx]
autonomous: true
---

<objective>
Restructure session layout: consolidate headers, remove redundancy, create single scroll frame.

Purpose: Maximize screen real estate on mobile by eliminating wasted header space and nested scrolling confusion.
Output: Cleaner session page with tappable share CTA and unified scroll area.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-polish-optimization/08-CONTEXT.md

@src/components/Layout.tsx
@src/pages/Session.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove app header and consolidate session header</name>
  <files>src/components/Layout.tsx, src/pages/Session.tsx</files>
  <action>
    1. In Layout.tsx: Remove the sticky header element entirely (lines 12-15 with "Split" h1). Keep the container structure.

    2. In Session.tsx: Redesign the fixed header section (lines 270-303):
       - Remove "Session: {code}" and "Hosted by {host}" redundant header
       - Replace ShareCode component inline - make the header itself the share CTA:
         - Show session code prominently (text-2xl font-mono tracking-widest)
         - Entire header area is tappable to copy code
         - Show subtle "tap to copy" hint text
         - Toast "Code copied!" on tap (reuse existing copied state pattern)
       - Keep ConnectionStatus at top (already in Layout)
       - Remove the ShareCode component definition since it's now inlined in header

    3. Remove the conditional "items && items.length > 0" check for share display - always show the tappable code header regardless of items state.
  </action>
  <verify>npm run build succeeds, no TypeScript errors</verify>
  <done>App header removed, session code is tappable share CTA in header</done>
</task>

<task type="auto">
  <name>Task 2: Flatten to single scroll frame</name>
  <files>src/pages/Session.tsx</files>
  <action>
    1. Remove the two-part layout (fixed header + scrollable content). Make entire page scroll together:
       - Remove "shrink-0" from header container, remove "flex-1 overflow-y-auto" from content
       - The page should be one continuous scroll with sections stacked vertically

    2. Restructure section order for Items tab (the main view):
       - Header (tappable code from Task 1)
       - Who's Here (participants list)
       - Receipt section (capture UI)
       - Items list with Add Item button
       - Items Total line

    3. Keep TabNavigation fixed at bottom (pb-20 padding already accounts for this).

    4. Remove nested scroll behaviors - the entire content should scroll as one unified view.
  </action>
  <verify>npm run build succeeds, scroll works as single continuous area</verify>
  <done>Single scroll frame, no nested scroll containers</done>
</task>

<task type="auto">
  <name>Task 3: Compact item row styling</name>
  <files>src/pages/Session.tsx</files>
  <action>
    1. Reduce spacing in the items list container:
       - Change `space-y-2` to `space-y-1` for tighter item spacing

    2. Reduce padding in section headers:
       - Section headers (Who's Here, Receipt, Items) - reduce mb-3 to mb-2

    3. Make participants list more compact:
       - Reduce participant pill padding from `px-3 py-1` to `px-2 py-0.5`
       - Keep text-sm for readability

    These changes maximize visible items on screen without sacrificing touch targets in ClaimableItem (which has min-h-[44px] buttons).
  </action>
  <verify>npm run build succeeds</verify>
  <done>Tighter vertical spacing, more items visible per screen</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds without errors
- [ ] "Split" header no longer appears at top
- [ ] Session code is displayed in header and tappable to copy
- [ ] Toast appears on code tap
- [ ] Page scrolls as single continuous area (no nested scroll)
- [ ] More items visible on screen due to compact styling
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No errors or warnings introduced
- Layout feels tighter and more mobile-optimized
</success_criteria>

<output>
After completion, create `.planning/phases/08-polish-optimization/08-01-SUMMARY.md`
</output>
