---
phase: 02.1-receipt-fixes
plan: 01-FIX
type: fix
wave: 1
depends_on: []
files_modified: [src/components/ItemEditor.tsx, src/components/ReceiptReview.tsx]
autonomous: true
---

<objective>
Fix 1 UAT issue from plan 02.1-01.

Source: 02.1-01-ISSUES.md
Priority: 0 critical, 1 major, 0 minor

The price input is hard to edit because:
1. Number inputs don't allow easy text selection/deletion with toFixed() formatting
2. Number spinner arrows (up/down) are visible and take up space
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md

**Issues being fixed:**
@.planning/phases/02.1-receipt-fixes/02.1-01-ISSUES.md

**Original plan for reference:**
@.planning/phases/02.1-receipt-fixes/02.1-01-PLAN.md

**Files to modify:**
@src/components/ItemEditor.tsx
@src/components/ReceiptReview.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix UAT-001 - Make price inputs user-friendly</name>
  <files>src/components/ItemEditor.tsx, src/components/ReceiptReview.tsx</files>
  <action>
Fix the price input to be easily editable:

1. Change `type="number"` to `type="text"` with `inputMode="decimal"` for mobile numeric keyboard
2. Hide spinner arrows with CSS (for any remaining number inputs)
3. Use controlled input with proper formatting:
   - On focus: select all text for easy replacement
   - On blur: format to 2 decimal places
   - While typing: allow any numeric input

In ItemEditor.tsx:
- Change price input from `type="number"` to `type="text" inputMode="decimal"`
- Add `onFocus={(e) => e.target.select()}` to select all on focus
- Keep `value={item.price.toFixed(2)}` for display
- Update onChange to handle text input: `parseFloat(e.target.value.replace(/[^0-9.]/g, '')) || 0`

In ReceiptReview.tsx:
- Apply same pattern to subtotal and tax inputs

Add Tailwind class to hide spinners on any remaining number inputs:
`[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none`

This allows users to:
- Click into field and immediately type new value (auto-selects all)
- Delete existing value and type fresh
- No spinner arrows visible
  </action>
  <verify>
1. Open a session with items
2. Click on a price field - verify text is selected
3. Type a new price - verify it replaces selected text
4. Tab out - verify price shows 2 decimal places
5. Verify no spinner arrows visible on price inputs
  </verify>
  <done>Price inputs can be easily cleared/overwritten, no spinner arrows visible</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] Price inputs auto-select text on focus
- [ ] Can type new price directly (replaces selected text)
- [ ] Prices show 2 decimal places after blur
- [ ] No spinner arrows on price inputs
</verification>

<success_criteria>
- UAT-001 addressed: price input editing is practical
- Tests pass
- Ready for re-verification
</success_criteria>

<output>
After completion, create `.planning/phases/02.1-receipt-fixes/02.1-01-FIX-SUMMARY.md`
</output>
