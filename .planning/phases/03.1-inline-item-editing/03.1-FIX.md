---
phase: 03.1-inline-item-editing
plan: 03.1-FIX
type: fix
wave: 1
depends_on: []
files_modified: [src/components/InlineItem.tsx]
autonomous: true
---

<objective>
Fix 1 UAT issue from phase 3.1.

Source: 03.1-UAT.md
Diagnosed: yes
Priority: 0 blocker, 1 major, 0 minor, 0 cosmetic
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md

**Issues being fixed:**
@.planning/phases/03.1-inline-item-editing/03.1-UAT.md

**Source files:**
@src/components/InlineItem.tsx
@src/pages/Session.tsx
</context>

<tasks>
<task type="auto">
  <name>Fix UAT-001: New items should auto-enter edit mode</name>
  <files>src/components/InlineItem.tsx</files>
  <action>
**Root Cause:** InlineItem defaults `isEditing=false`. When addItem mutation creates item with empty name/price, the component renders in view mode showing blank data.

**Issue:** "a new item is added but it is not in edit mode and the name is empty and the price is 0"

**Expected:** Tap "Add Item" button. A new item row appears in edit mode. Enter name and price, tap Save. Item is added to the list.

**Fix:** Auto-detect new items by checking if `item.name` is empty string. If empty, initialize `isEditing` to `true` instead of `false`.

Change line 16 from:
```tsx
const [isEditing, setIsEditing] = useState(false);
```
to:
```tsx
const [isEditing, setIsEditing] = useState(item.name === "");
```

This approach:
- Requires no changes to Session.tsx or mutation calls
- New items (empty name) auto-open in edit mode
- Existing items with names display normally
- No prop drilling needed
  </action>
  <verify>
- `npm run build` succeeds
- Manually test: click "Add Item" → new row appears in edit mode with cursor in name field
- Existing items with names still display in view mode
  </verify>
  <done>UAT-001 resolved - new items auto-enter edit mode based on empty name detection</done>
</task>
</tasks>

<verification>
Before declaring plan complete:
- [ ] Build succeeds without errors
- [ ] New items appear in edit mode immediately
- [ ] Existing items with names display in view mode
- [ ] Full add-item flow works: Add → Edit name/price → Save → Item appears correctly
</verification>

<success_criteria>
- UAT-001 from 03.1-UAT.md addressed
- Build passes
- Ready for re-verification with /gsd:verify-work 3.1
</success_criteria>

<output>
After completion, create `.planning/phases/03.1-inline-item-editing/03.1-FIX-SUMMARY.md`
</output>
